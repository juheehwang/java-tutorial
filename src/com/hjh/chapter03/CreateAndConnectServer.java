package com.hjh.chapter03;import java.io.*;import java.net.ServerSocket;import java.util.Scanner;public class CreateAndConnectServer {    public static void main(String[] args) {        try (Scanner sc = new Scanner(System.in);             ServerSocket serverSocket = new ServerSocket(9999);        ) {            while (true) {                var socket = serverSocket.accept();                System.out.println("server connected by client");                System.out.println("server port" + socket.getInetAddress());                BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));                BufferedWriter out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));                if (socket.isBound()) {                    while (true) {                        String message = in.readLine();                        if (message == null || "exit".equals(message)) {                            System.out.println("server is closed by client");                            break;                        }                        System.out.println("msg from Client: " + message);                        out.write(message + "\n");                        out.flush();                    }                }            }        } catch (IOException e) {            e.printStackTrace();        }    }}