package com.hjh.chapter03;import java.io.*;import java.net.ServerSocket;import java.util.Scanner;public class CreateAndConnectServer {    public static void main(String[] args) {        Scanner sc = new Scanner(System.in);        try (ServerSocket serverSocket = new ServerSocket(9999)) {            while (true) {                var socket = serverSocket.accept();                System.out.println("server connected by client");                System.out.println("server port" + socket.getInetAddress());                BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));                BufferedWriter out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));//                    System.out.print("클라이언트에 회신할 말? ");//                    String serverSendMsg = sc.nextLine();                if (socket.isBound()) {                    while (true) {                        String message = in.readLine();                        System.out.println("msg from Client: " + message);                        out.write(message + "\r\n");                        out.flush();                        if (message.equals("exit") || message == null) {                            System.out.println("server is closed by client");                            break;                        }                    }                }            }        } catch (IOException e) {            e.printStackTrace();        }    }}